<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <!-- Hotel Booking Form -->
    <template id="template_hotel_booking_form" name="Hotel Booking Form">
        <t t-set="logged_partner" t-value="request.env['website.visitor']._get_visitor_from_request().partner_id"/>
        <t t-set="template_hotel_booking_form_form_values" t-value="{
                'email': res_company.email,
                'name': request.params.get('guest_name', ''),
                'phone': request.params.get('phone', ''),

            }"/>
        <section class="oe_structure container mt-5 hotel-booking-form">
            <div class="row justify-content-center">
                <div id="wrap" class="d-flex flex-wrap align-items-center justify-content-between my-3">
                    <section class="container mt-5">
                        <h2 class="text-center mb-4 text-primary">Book Your Hotel Room</h2>
                        <form action="/hotel/booking/submit" method="post" enctype="multipart/form-data"
                              class="form-horizontal js_website_submit_form o_wbooth_registration_form"
                              data-pre-fill="true">
                            <div class="row">
                                <div class="mb-3 col-lg-6">
                                    <label class="form-label">Name
                                        <span class="text-danger">*</span>
                                    </label>
                                    <input type="text" class="form-control" name="guest_name"
                                           t-att-value="logged_partner.name or ''"/>
                                </div>
                                <div class="mb-3 col-lg-6">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control" name="email"
                                           t-att-value="logged_partner.email or ''"/>
                                </div>
                            </div>
                            <br/>
                            <div class="row">
                                <div class="mb-3 col-lg-6 ">
                                    <label for="bed">Room Type</label>
                                    <select name="bed" class="form-control">
                                        <option value="single">Single</option>
                                        <option value="double">Double</option>
                                        <option value="dormitory">Dormitory</option>
                                    </select>
                                </div>
                                <div class="mb-3 col-lg-6 ">
                                    <label>Number of Guests</label>
                                    <input type="number" name="guests" min="1" value="1" class="form-control"/>
                                </div>


                                <div class="mb-3">
                                    <label class="form-label ">Select Facilities</label>
                                    <div class="form-check form-check-inline"
                                         t-foreach="request.env['hotel.facility'].sudo().search([])" t-as="facility">
                                        <input class="form-check-input" type="checkbox" name="facility_ids"
                                               t-att-value="facility.id"/>
                                        <label class="form-check-label">
                                            <t t-esc="facility.name"/>
                                        </label>
                                    </div>
                                </div>
                                <div class="mb-3 col-lg-6">
                                    <label for="booking_time">Booking Time</label>
                                    <input id="booking_time" type="datetime-local" name="booking_time"
                                           class="form-control"/>
                                </div>
                                <!--                                <div class="mb-3 col-lg-6">-->
                                <!--                                    <label>Select Room</label>-->
                                <!--                                    <select name="room_id" class="form-control js-room-select">-->
                                <!--                                        <option value="">&#45;&#45; Select Room &#45;&#45;</option>-->
                                <!--                                    </select>-->
                                <!--                                </div>-->

                                <div class="mb-3 col-lg-6 ">
                                    <label>Number of Days</label>
                                    <input type="number" name="days" min="1" value="1"
                                           class="form-control"/>
                                </div>
                            </div>


                            <div class="text-center">
                                <button type="submit" class="btn btn-primary px-4 py-2 rounded-pill shadow">
                                    Book Now
                                </button>
                            </div>
                        </form>
                    </section>
                </div>
            </div>
        </section>
    </template>

    <template id="hotel_management.template_hotel_booking_success">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure oe_empty">
                <section class="container mt-5">
                    <h2>Booking Successful</h2>
                    <p>Thank you !!</p>
                </section>
            </div>
        </t>
    </template>

    <template id="hotel_booking_snippet_form" inherit_id="website.snippets" name="Snippet banner">
        <xpath expr="//snippets[@id='snippet_groups']" position="inside">
            <t t-snippet="hotel_management.template_hotel_booking_form"
               t-thumbnail="/hotel_management/static/src/images/website_form.svg"/>
        </xpath>
    </template>


</odoo>
